<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Driver Dashboard</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Firebase App & Auth SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.17.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.2/firebase-auth-compat.js"></script>
  <!-- Firebase config -->
  <script src="firebase-config.js"></script>
</head>
<body class="container">
  <h2>Welcome, <span id="driverName"></span></h2>
  <div id="orders">
    <!-- Orders will be dynamically loaded here -->
  </div>
  
  <script>
    const auth = firebase.auth();
    auth.onAuthStateChanged(user => {
      if (user) {
        // Display driver information (using email as a simple identifier)
        document.getElementById('driverName').textContent = user.email;
        
        // Example: Fetch orders via an API endpoint that returns driver-specific data.
        // Replace the URL below with your actual API endpoint.
        fetch('https://your-api-endpoint.com/getOrders?driver=' + encodeURIComponent(user.email))
          .then(response => response.json())
          .then(data => {
            let html = '<ul>';
            data.orders.forEach(order => {
              html += `<li>Order: ${order.name} - Status: ${order.status}</li>`;
            });
            html += '</ul>';
            document.getElementById('orders').innerHTML = html;
          })
          .catch(error => {
            console.error('Error fetching orders:', error);
          });
      } else {
        // If not logged in, redirect back to the login page
        window.location.href = "login.html";
      }
    });
  </script>
</body>
</html>
